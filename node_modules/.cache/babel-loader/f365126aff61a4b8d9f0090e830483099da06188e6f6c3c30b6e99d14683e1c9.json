{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nimport env from '@/env.js';\nimport { ref } from 'vue';\nexport const useMovieStore = defineStore('movieStore', {\n  state: () => ({\n    movies: [],\n    popularShowsUrl: `${env.baseUrl}tv/popular?${env.apikey}`,\n    favMovies: [],\n    isFav: false\n  }),\n  actions: {\n    async getMovies() {\n      const res = await fetch(this.popularShowsUrl);\n      const data = await res.json();\n      this.movies = data.results;\n      //console.log(\"this.movies  = \", this.movies)\n    },\n\n    isFavActive(movie) {\n      return this.favMovies.includes(movie);\n    },\n    toggleFav(movie) {\n      const isFavorite = ref(Boolean);\n      isFavorite.value = this.favMovies.includes(movie);\n      if (isFavorite.value) {\n        this.favMovies = this.favMovies.filter(m => m.id !== movie.id);\n        isFavorite.value = false;\n      } else {\n        this.favMovies.push(movie);\n        isFavorite.value = true;\n      }\n      this.isFav = isFavorite.value;\n      console.log(\"list2 = \", this.favMovies);\n    }\n  }\n});","map":{"version":3,"names":["defineStore","env","ref","useMovieStore","state","movies","popularShowsUrl","baseUrl","apikey","favMovies","isFav","actions","getMovies","res","fetch","data","json","results","isFavActive","movie","includes","toggleFav","isFavorite","Boolean","value","filter","m","id","push","console","log"],"sources":["/home/esraisik/Desktop/shows-vue0-main/src/stores/MovieStore.js"],"sourcesContent":["import {defineStore} from 'pinia';\nimport env from '@/env.js';\nimport {ref} from 'vue';\n\nexport const useMovieStore = defineStore('movieStore',{\n    state: () => ({\n        movies: [],\n        popularShowsUrl: `${env.baseUrl}tv/popular?${env.apikey}`,\n        favMovies: [],\n        isFav: false,\n    }),\n    actions: {\n        async getMovies() {\n            const res = await fetch(this.popularShowsUrl);\n            const data = await res.json();\n\n            this.movies = data.results;\n            //console.log(\"this.movies  = \", this.movies)\n        },\n        isFavActive(movie){\n              return this.favMovies.includes(movie);\n        },\n        toggleFav(movie){\n           const isFavorite = ref(Boolean);\n           isFavorite.value = this.favMovies.includes(movie);\n\n           if(isFavorite.value){\n            this.favMovies= this.favMovies.filter(m=>m.id!==movie.id);\n\n            isFavorite.value=false;\n           } else {\n           this.favMovies.push(movie);\n\n           isFavorite.value = true;\n           }\n\n           this.isFav=isFavorite.value;\n\n           console.log(\"list2 = \", this.favMovies)\n        }\n    }\n})\n"],"mappings":";AAAA,SAAQA,WAAW,QAAO,OAAO;AACjC,OAAOC,GAAG,MAAM,UAAU;AAC1B,SAAQC,GAAG,QAAO,KAAK;AAEvB,OAAO,MAAMC,aAAa,GAAGH,WAAW,CAAC,YAAY,EAAC;EAClDI,KAAK,EAAEA,CAAA,MAAO;IACVC,MAAM,EAAE,EAAE;IACVC,eAAe,EAAG,GAAEL,GAAG,CAACM,OAAQ,cAAaN,GAAG,CAACO,MAAO,EAAC;IACzDC,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE;EACX,CAAC,CAAC;EACFC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAA,EAAG;MACd,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACR,eAAe,CAAC;MAC7C,MAAMS,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;MAE7B,IAAI,CAACX,MAAM,GAAGU,IAAI,CAACE,OAAO;MAC1B;IACJ,CAAC;;IACDC,WAAWA,CAACC,KAAK,EAAC;MACZ,OAAO,IAAI,CAACV,SAAS,CAACW,QAAQ,CAACD,KAAK,CAAC;IAC3C,CAAC;IACDE,SAASA,CAACF,KAAK,EAAC;MACb,MAAMG,UAAU,GAAGpB,GAAG,CAACqB,OAAO,CAAC;MAC/BD,UAAU,CAACE,KAAK,GAAG,IAAI,CAACf,SAAS,CAACW,QAAQ,CAACD,KAAK,CAAC;MAEjD,IAAGG,UAAU,CAACE,KAAK,EAAC;QACnB,IAAI,CAACf,SAAS,GAAE,IAAI,CAACA,SAAS,CAACgB,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACC,EAAE,KAAGR,KAAK,CAACQ,EAAE,CAAC;QAEzDL,UAAU,CAACE,KAAK,GAAC,KAAK;MACvB,CAAC,MAAM;QACP,IAAI,CAACf,SAAS,CAACmB,IAAI,CAACT,KAAK,CAAC;QAE1BG,UAAU,CAACE,KAAK,GAAG,IAAI;MACvB;MAEA,IAAI,CAACd,KAAK,GAACY,UAAU,CAACE,KAAK;MAE3BK,OAAO,CAACC,GAAG,CAAC,UAAU,EAAE,IAAI,CAACrB,SAAS,CAAC;IAC1C;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}